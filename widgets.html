<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Prayer Request</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Existing styles and fonts -->
  <link href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" rel="stylesheet" />
  <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet" />
  <link href="css/frame.css" rel="stylesheet" />
  <link href="css/controls.css" rel="stylesheet" />
  <link href="css/widgets.css" rel="stylesheet" />
  <link href="css/custom.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Open+Sans+Condensed:300,700|Source+Sans+Pro:400,700" rel="stylesheet" />

  <!-- JS Framework -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script src="js/menu.js"></script>
  <script src="js/footer.js"></script>
  <script src="js/widgets.js"></script>
  <script src="js/util.js"></script>
  <script src="js/custom.js"></script>
</head>

<body>
  <div class="menu-container"></div>

  <div class="content-container">
    <div class="content">
      <div class="content-table flex-column">

        <!-- Prayer Request Header -->
        <div class="flex-row">
          <div class="flex-item flex-column">
            <h1 class="text-center">Submit a Prayer Request</h1>
            <p class="text text-center">
              We believe in the power of prayer. Please share your prayer request below and our prayer team will stand with you.
            </p>
          </div>
        </div>

        <!-- Prayer Request Form -->
        <div class="flex-row">
          <div class="flex-item flex-column">
            <form id="prayer-request-form" class="custom-form">

              <!-- Name -->
              <div class="control-group">
                <label for="name">Your Name</label>
                <input id="name" name="name" class="custom-textbox full-width" type="text" placeholder="Enter your name" required>
              </div>

              <!-- Email -->
              <div class="control-group">
                <label for="email">Your Email (optional)</label>
                <input id="email" name="email" class="custom-textbox full-width" type="email" placeholder="Enter your email">
              </div>

              <!-- Prayer Request -->
              <div class="control-group">
                <label for="request">Your Prayer Request</label>
                <textarea id="request" name="request" class="custom-textarea full-width" rows="6" placeholder="Write your prayer request here..." required></textarea>
              </div>

              <!-- Submit -->
              <div class="control-group">
                <button type="submit" class="custom-button primary full-width">Submit Request</button>
              </div>
              <div id="confirmation-message" style="display:none;"></div>

            </form>
          </div>
        </div>

      </div>
    </div>
    <div class="footer-container"></div>
  </div>


  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Submit a Prayer Request</title>
  <link href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" rel="stylesheet"/>
  <link href="css/custom.css" rel="stylesheet"/>
  <style>
  
<body>

  <section class="prayer-section">
    <h2>Submit Your Prayer Request</h2>
    <form id="prayer-form">
      <input type="text" name="name" placeholder="Your Name" required>
      <input type="email" name="email" placeholder="Your Email" required>
      <textarea name="request" placeholder="Your Prayer Request" rows="6" required></textarea>
      <button type="submit">Send Prayer Request</button>
    </form>
    <div id="confirmation-message"></div>
  </section>

  <script>
    document.getElementById('prayer-form').addEventListener('submit', function(e) {
      e.preventDefault();

      // ✅ Generate unique confirmation code
      const code = 'PRAYER-' + Math.random().toString(36).substr(2, 8).toUpperCase();

      // ✅ Show confirmation message
      const msg = document.getElementById('confirmation-message');
      msg.style.display = 'block';
      msg.innerHTML = `
        <strong>Thank you for your prayer request!</strong><br>
        Your confirmation code is: <b>${code}</b><br>
        Please keep this code for your records.
      `;

      // ✅ OPTIONAL: Here you would send data to backend
      // Example: save to localStorage for demo
      const name = this.name.value;
      const email = this.email.value;
      const request = this.request.value;

      const prayerData = {
        name, email, request, code, date: new Date().toISOString()
      };
      localStorage.setItem('latestPrayerRequest', JSON.stringify(prayerData));

      // ✅ Clear form
      this.reset();
    });
  </script>

</body>
</html>
